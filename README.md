This branch is for each dragging/snapping block stuff.  Until everything works, just copy/paste from here into whatever other branch (don't merge or it might not like you).